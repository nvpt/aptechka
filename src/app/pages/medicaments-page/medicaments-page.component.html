<div class="medicaments">
    <div class="g-top-page">
        <h1 class="g-h1-title"
            translate>BREADCRUMB.MEDICAMENTS</h1>
    </div>
    <div class="content">
        <table class="g-table table">
            <thead>
            <tr>
                <th translate>MEDICAMENTS.TABLE.TITLE</th>
                <th translate>MEDICAMENTS.TABLE.DESCRIPTION</th>
                <th translate>MEDICAMENTS.TABLE.ISSUE_DATE</th>
                <th translate>MEDICAMENTS.TABLE.EXPIRY_DATE</th>
                <th translate>MEDICAMENTS.TABLE.IMPACT_TYPE</th>
                <th translate>MEDICAMENTS.TABLE.TARGET_GROUP</th>
                <th translate>MEDICAMENTS.TABLE.BOX</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let med of medicamentsService.medicaments">

                <!--MEDICAMENT TITLE + IMG-->
                <td (click)="editMedicament(med)"
                    class="hovered">
                    <span class="material-icons hovered__icon">edit</span>
                    <span class="img-wrap">
                            <span class="img-wrap__title">{{ med.title }}</span>
                            <img [src]="med.img"
                                 class="img-wrap__img"
                                 alt=""/>
                        </span>
                </td>

                <!--DESCRIPTION-->
                <td>{{ med.description || '--' }}</td>

                <!--ISSUE DATE-->
                <td>{{ med.issueDate | date: 'longDate':null:currentLanguage }}</td>

                <!--EXPIRY DATE-->
                <td>{{ med.expiryDate | date: 'longDate':null:currentLanguage }}</td>

                <!--IMPACT TYPES-->
                <td>
                    <ul *ngIf="med.impactTypes?.length; else impactsEmpty">
                        <li *ngFor="let impact of med.impactTypes">
                            {{ impact.title }}
                        </li>
                    </ul>
                    <ng-template #impactsEmpty>
                        --
                    </ng-template>
                </td>

                <!--TARGET GROUPS-->
                <td>
                    <ul *ngIf="med.targetGroups?.length; else groupsEmpty">
                        <li *ngFor="let group of med.targetGroups">
                            {{ group.title }}
                        </li>
                    </ul>
                    <ng-template #groupsEmpty>
                        --
                    </ng-template>
                </td>

                <!--BOX TITLE + IMG-->
                <td (click)="editBox(med.boxId)"
                    class="hovered">
                    <span class="material-icons hovered__icon">edit</span>
                    <span class="img-wrap">
                            <span class="img-wrap__title">{{ defineBox(med.boxId)?.title }}</span>
                            <img alt=""
                                 class="img-wrap__img"
                                 [src]="defineBox(med.boxId)?.img"/>
                        </span>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
